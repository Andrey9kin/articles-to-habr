Связь Many to many для базы данных во Flask
Большинство других типов связей могут быть производными от одного до многих типов. С точки зрения «многих», отношение «многие к одному» - это отношение «один ко многим». Отношения «один к одному» - это упрощенная версия отношения «один ко многим». Единственный тип, который нельзя развить от отношений "один ко многим", - это отношения "многие ко многим".

Связь многие ко многим
Связи «один ко многим», «многие к одному» и «один к одному» имеют по крайней мере одну сторону, которая является единым целым. Связь между таблицами реализуется с помощью внешних ключей, которые указывают на эту сущность. Чтобы решить проблему отношения «многие ко многим», нам нужно ввести третью таблицу, называемую таблицей ассоциаций, которую можно разложить на две взаимосвязи «один ко многим» между исходной таблицей и таблицей ассоциаций. Например, когда студенты выбирают курсы, один студент может выбрать несколько курсов, а один курс может быть выбран несколькими студентами. Это типичные отношения "многие ко многим".

Процесс запроса связи "многие ко многим": например, чтобы узнать, какие курсы выбрал студент, сначала получите студента-студента из отношения "один ко многим" между студентом и регистрацией_ Все классы, соответствующие ID_ ID, а затем просмотрите Связь один ко многим между курсом и регистрацией в направлении «многие к одному», чтобы найти все курсы, выбранные студентом.
1. Связь "многие ко многим" между двумя организациями.
Flask Sqlalchemy реализует отношения многие ко многим

Все еще используется в определении метода db.relationship () во многих отношениях, но во многих отношениях вторичный параметр должен быть установлен как связанная таблица. Отношения "многие ко многим" можно определить в любом классе, а параметр backref обрабатывает другую сторону связи. Связанная таблица - это простая таблица, а не модель. Flask Sqlalchemy автоматически возьмет на себя управление таблицей.
Курс регистрации студентов:

Перечислите все курсы, на которых обучаются студенты:

Все студенты, зарегистрированные на Курс c:

самореферентное отношение
В функции «Пользовательский фокус» во взаимосвязи «многие ко многим» нет двух сущностей, только модель сущности «Пользователь». Если обе стороны отношения находятся в одной таблице, это отношение называется самореферентным отношением.

Связанная таблица следует, где каждая строка представляет одного пользователя, следующего за другим. Слева - последователь, которого можно понять как поклонник, справа - последователь, который можно понять как внимание к другим.
При использовании отношений "многие ко многим" необходимо сохранять дополнительную информацию между двумя объектами, например информацию о времени, на которую один пользователь обращает внимание на другого пользователя. Для обработки настроенных данных таблица ассоциаций может быть разработана как доступная модель.

Введение параметра:
1. foreign_ Параметр keys представляет связанный внешний ключ
2. Параметр backref указывает на то, что подписанный / подписчик возвращается к модели отслеживания через Follow.follower Посетите поклонников через Follow.followed Посетите следующих людей
3. Если параметр отложенного вызова в обратном вызове указан как объединенный, связанные объекты могут быть загружены из запроса объединения немедленно.
4. Влияние операции настройки параметров каскада на родительский объект на связанные объекты
Вспомогательные методы отношения внимания
КОНЕЦ
Теги: База данных сеансов Python
