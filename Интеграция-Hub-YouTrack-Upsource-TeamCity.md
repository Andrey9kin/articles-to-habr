В этом посте я попробую повторить интеграцию Youtrack, Upsource, Teamcity и Hub, которую делал Дмитрий Нестерук в вебинаре.

Ссылка на вебинар https://www.youtube.com/watch?v=k_je78YhGk4

Изложение текста постарался оставить из вебинара.

У JetBrains есть несколько разных продуктов для команд разработки.

Цель этого вебинара обсудить, что происходит в плане их взаимодействия и также обсудить какого рода проблемы мы пытаемся решить при помощи это Hub-конструкции.

![](https://habrastorage.org/webt/y1/mr/u-/y1mru-5ws1u-vspsqvqnl4b9oxw.png)

Тут вы видите экран входа и это единый экран входа (SSO) для каждого сервиса, который мы предоставляем.

Поэтому, по-сути, что только-что случилось - я автоматически вошел в YouTrack, TramCity и Upsource одновременно. Так что это определенно одна из причин существования Hub’а. Т.е. чтобы вы не дублировали различные сервисы.

У вас может появиться вопрос: что будет, если вы установите только один сервис?

Ответ: по-умолчинию, если вы устанавливаете что-то вроде YouTrack к примеру, скажем вы установили YouTrack и у вас больше ничего нет, в этом случае у вас будет своего рода встроенный Hub, который прикреплен к YouTrack.

Но вы имеете Hub для всего остального. По-сути ??? разделенные бэкэнд-продукты, которые у нас есть. Hub абсолютно бесплатный и цель продукта, прежде всего - единый вход. И тут также есть дополнительный функционал. Вот, о чем мы поговорим.

![](https://habrastorage.org/webt/zw/bt/ic/zwbtic0l4v_ycwm3f_2g60k8o-c.png)

Сначала, позвольте показать настройки сервисов, чтобы вы видели что тут вообще-то происходит. Если у вас нет сервисов кроме Hub, то нужно их добавить.

**Настройка внешнего Hub для Youtrack**

![](https://habrastorage.org/webt/fj/lz/nu/fjlznu6ujhjwkewvml4uclfubaw.png)

Заходим в Hub Integration

![](https://habrastorage.org/webt/6j/yk/jp/6jykjpsyt8fbrxmrg2jtg8sv5s4.png)

Указываем URL до внешнего Hub

![](https://habrastorage.org/webt/oh/np/mi/ohnpmix3ongdanov9uqk9i8je4y.png)

После соглашаемся с миграцией сервиса.

**Настройка внешнего Hub для Upsource**

http://your-host-name:port_for_upsource/bundle/admin/

![](https://habrastorage.org/webt/6j/yk/jp/6jykjpsyt8fbrxmrg2jtg8sv5s4.png)

Указываем URL до внешнего Hub

**Настройка внешнего Hub для Teamcity**

Сначала нужно установить [TeamCity Hub Plugin](https://confluence.jetbrains.com/display/TW/TeamCity+Hub+Plugin)

![](https://habrastorage.org/webt/k9/ay/sk/k9ayskteseuff3dv_aed_7wijp0.png)

После установки  [TeamCity Hub Plugin](https://confluence.jetbrains.com/display/TW/TeamCity+Hub+Plugin) идем в **Administration | Hub Settings** и включаем Hub инеграцию

![](https://habrastorage.org/webt/vv/ot/um/vvotum1-g8p1p1qt-dxm5zasqau.png)

Проверяем, нажимаем на Trust и нажимаем на возврат настроек в Teamcity.

![](https://habrastorage.org/webt/ws/bp/mc/wsbpmc6toqvqyheybwxrthpd2lm.png)

Интеграция Teamcity с Hub настроена

![](https://habrastorage.org/webt/gz/yr/-a/gzyr-ax8firgw_kr-wz_vpefwyq.png)

По-сути, Hub - это коннектор для остальных продуктов, к которым вы возможно хотите подключатся. В большинстве случаев это TeamCity, Upsource и YouTrack. Это 3 сервиса, которые мы предоставляем для непрерывной интеграции отслеживания проблем. Так же как и для ревью кода.

Но также у нас есть пара других вещей, к примеру DashBoard и ProjectWizard. Таким образом, по-сути, Hub - это центральное место.

![](https://habrastorage.org/webt/2t/qc/kb/2tqckbhc0i-vuem8sia3vi5lp88.png)

Вы можете управлять пользователями через Hub. Если вы работаете c Upsource или YouTrack, то вы не хотите иметь отдельные базы пользователей в обоих инструментах, вы хотите, чтобы они были синхронизированы.

![](https://habrastorage.org/webt/un/45/yb/un45ybfoomcpialxgkgrs5aqyxu.png)

Так что, по-сути на уровне Hub’а вы можете управлять пользователями. 

![](https://habrastorage.org/webt/be/aa/ab/beaaab5nr35owoaqbio5oybhxy8.png)

Для каждого пользователя тут имеется типичные метаданные, такая как имена пользователей, которые используются кем-то, чтобы идентифицировать ваши действия и так далее.

![](https://habrastorage.org/webt/89/av/jf/89avjfgrxvujrkvebtxtzvix4mw.png)

У на есть группы, вы можете определять группы людей и указывать, кто принадлежит определенной группе. Вы можете думать об этом, как о базовой организационной единице. 

![](https://habrastorage.org/webt/co/rx/-r/corx-rl7oamt95ukl5_zmjd74he.png)

На вкладке Members, вы можете добавлять пользователей в этот список.

![](https://habrastorage.org/webt/jm/hu/-d/jmhu-dnct6e_hrfeojfcl6hnv20.png)

И затем, есть связанная с этим конструкция называемая Роли, Роли имеют дело с разрешениями. Потому что, по-сути причина по который мы занимаемся управлением пользователями - это не просто чтобы иметь логины и уведомления, это также для того, чтобы сказать, кто имеет право видеть те или иные вещи. И в данном случае мы имеем другое понятие под названием Роли.

Роль - это что вы делаете, как часть компании. Вы можете быть разработчиком, вы можете работать в QA. Или вы можете администратором или глобальным-администратором, вы можете видеть, что администратор верхнего уровня имеет наибольшее число привелегий и если мы кликнем не одного из них, то кроме имени роли вы увидете привелегии.

![](https://habrastorage.org/webt/f2/wi/sc/f2wiscdtcopadxxrtnywtal8yxm.png)

По-сути это то место, где вы указываете, что конкретно данная роль позволяет делать. К примеру, мы знаем, что Admin имеет право удалить проект в Hub’e. И вы увидите, что эта вкладка, которую вы видите, указывает не только на разрешения, но и на различные сервисы, поэтому это не только YouTrack или Hub, это все вместе присутствует в этом интерфейсе, где вы можете контролировать, что происходит. Если вы не хотите, чтобы кто-то имел определенную привилегию, то тогда вы можете можете удалить привилегию из роли.

![](https://habrastorage.org/webt/16/fc/u6/16fcu6tro-ykhljiqyotavs90yw.png)

Вы также можете выполнять поиск. К примеру, я напишу Update в поле поика и увижу элементы, которые имеют Update в имени.

Вот так вы получаете контроль над тем, что люди могут видеть. И впоследствии, когда вы работаете над созданием проекта, то можете указать, какие роли могут видеть определенное поле, к примеру. Поэтому вы можете контролировать это на очень низком уровне.

![](https://habrastorage.org/webt/g6/9u/mt/g69umtnakyehl0ooy-ehcz_krfg.png)

Что касается логина, я упомянул, что это единое место для логина.

В дополнение к стандартной системе логина-пароля мы также предоставляем пару других модулей.

На моей системе у меня есть 1 включенный модуль:

- у меня есть Hub, по-сути в нем локально используются комбинация имени пользователя и пароля, на той машине, где это все это установлено.


![](https://habrastorage.org/webt/wf/i6/yq/wfi6yqouhqft0ty9x-nlbgey6wk.png)

Но вообще-то тут много опций, вы увидите такие вещи как Google, аккаунт JetBrains, что является чем-то вроде нашей собственной системы аутентификации.

![](https://habrastorage.org/webt/cp/a1/--/cpa1--vciqf5c3vucj0netnfnwk.png)

И затем имеются различные вариации: LDAP, который также имеет общий открытый идентификатор. OpenID - Это провайдер открытой аутентификации. Поэтому вы можете добавить любые из них и затем на экране входа вы будете видеть конкретные варианты входа.

Hub также служит как навигационная точка, в плане доступа к этим сервисам.

![](https://habrastorage.org/webt/h1/gf/f9/h1gff9cap9svilmtmowrvdb6ina.png)

Давайте я снова открою сервисы. Тут представлены сервисы, которые у вас есть.

Справа мы предоставляем меню для перехода к тем вещам, которые у вас установлены. И кроме TeamCity, Upsource и YouTrack вы также увидете еще пару других вещей и Hub, очевидно. Вы увидите DashBoard и ProjectWizard.

DashBoard - это что-то, что вы получаете и в составе индивидуальных инструментов, к примеру если вы занимаетесь отслеживанием проблем, то вы бы имели отдельную приборную панель, может что-то вроде списков и отчетов и еще чего-нибудь, но суть панели инструментов в том, чтобы интегрированные виджеты панели инструментов из каждого отдельного инструмента, который у вас подключен.

![](https://habrastorage.org/webt/cx/qj/lj/cxqjlj9yphyjyw4kcl89_g-wb4o.png)

Поэтому, в этом случае, если я посмотрю на набор виджетов, вы определенно можете видеть некоторые виджеты тут на экране. У вас могут быть виджеты из TeamCity, такой как ProjectStatus к примеру. У вас могут быть виджеты из Upsource, такие как набор Commits и набор Reviews. У вас могут быть YouTrack виджеты, которые содержат список проблем или простой отчет. Поэтому по-сути все это может быть добавлено к одному сервису DashBoard. И как всегда вы можете двигать их, масштабировать, также как и с индивидуальными сервисами. Notes - это вещь общего назначения, вы можете набрать какие-то заметки и вы также можете использовать разметку, чтобы заметки выглядели красивее. Это одна из полезных особенностей Hub’а.

![](https://habrastorage.org/webt/zi/mo/jr/zimojrvr4ph1jjxsaquerrsgcba.png)

Другая вещь называется ProjectWizard (Или просто Project). И это кое-что особенно полезное. 

Вот в чем проблема: предположим вы хотите создать проект и вы хотите быстро настроить ревью кода и для поиска проблем, к примеру. Вы определенно можете сделать это вручную, вы зайдете в YouTrack и настроите проект, и зайдете в Upsource и настроите проект и затем вы соединяете их, это возможно.

Но дело в том, что ProjectWizard поможет вам это сделать эффективно.

Позвольте мне показать вам, как это работает, вкратце. Я просто создам случайный проект Foo. По-сути вы создаете проект через ProjectWizard и теперь, если вы хотите отслеживание проблем, если вы хотите ревью кода, все что нужно сделать - это кликнуть на плюс в блоке Service и вы просто выбираете Issue Tracker. 

![](https://habrastorage.org/webt/ah/_0/mg/ah_0mgl_gt-yhlptfzu1ml6-i44.png)

Нажимаете Add Service. 

![](https://habrastorage.org/webt/3r/de/70/3rde70mqona0trw5otqqnedfri8.png)

И все, теперь вы имеете новый проект в YouTrack под названием Foo.

![](https://habrastorage.org/webt/ip/xj/qy/ipxjqyklq-mx-8lsodluayss6j0.png)

И вы можете кликнуть на него и вы увидете, что у нас уже есть проект и мы можем начать создавать проблемы в данном проекте. Т.е. это как мгновенная операция, вы не тратите времени на индивидуальную настройку проектов.

![](https://habrastorage.org/webt/if/nh/kc/ifnhkc4mteejuj7tepkl0ueiqau.png)

И то же самое касается Upsource, вы выбираете Code Review.

![](https://habrastorage.org/webt/br/jj/gt/brjjgt8eb7jfa0tqqazr-7rn-_u.png)

Вы должны указать систему контроля версий. 

![](https://habrastorage.org/webt/ps/wy/8g/pswy8gbtcsnrnvuon2f6rx85dei.png)

Вы кликаете на Upsource и откроется интерфейс ревью кода.

Поэтому, это по-сути объясняет для чего предназначен Hub. Для чего он вам мог бы понадобиться и по-факту.

![](https://habrastorage.org/webt/4u/ht/wm/4uhtwm-fbvgbaz6k703i12_nlk0.png)

Если вы в последствии перейдете в YouTrack и перейдете к редактированию пользователей или групп, то что случиться: вы перейдете обратно к Hub.

![](https://habrastorage.org/webt/ti/4d/za/ti4dzaongtwwaatujvvdr6tcodc.png)

Мы только что совершили переход, как вы могли заметить.

Так что, как только у вас будет внешний Hub, в противовес внутреннему, то вы будете переходить к тому же набору настроек.

Одно из препятствий, очень сложное препятствие в плане наличия нескольких бэкэндов, которые разговаривают друг с другом заключается в том, что вы хотите справиться с ситуацией, когда пользователи имеют все продукты на бэкэнде, но также вы хотите вы можете хотеть, чтобы пользователи имели лишь некоторые из продуктов на бэкэнде, к примеру у кого-то будет просто YouTrack и Upsource и они не имеют TreamCity. А кто-то может иметь только TeamCity и YouTrack, но не Upsource. Поэтому, чтобы поддерживать такого рода настройку и чтобы поддерживать другие настройки, где часть инфраструктуры может быть экстарнелизирована.

У нас есть очень много вариантов интеграции, в зависимости от того, как вы хотите все настроить.

Поэтому, что я тут показываю - это пример случая, когда у нас есть все. Так что Foo имеет базу данных отслеживания проблем, ревью кода, также имеет и соответствующую запись в TreamCity, вот здесь.

На данный момент мы работаем над более плотной интеграцией TeamCity.

Но на данный момент интегрирован ключевой функционал интеграции TeamCity. Сейчас реализован единый вход в TeamCity и еще как следствие несколько вещей. Но также вы увидите явную интеграцию c TeamCity таких вещей как YouTrack.

По-сути - это как мультинаправленный граф Upsource, потому что по-сути инструменты могут общаться через Hub, но также они могут общаться индивидуально.

Поэтому давайте начнем с Upsource.

Мы посмотрим на кое-какую интеграцию Upsource. Тут у меня есть проекты, но эти проекты были созданы с использованием ProjectWizard,который был упомянут ранее. Так что вы получаете в плане Upsource?

Одна из вещей, которую вы получаете, очевидно, если вы имеете какие-либо ссылки YouTrack, к примеру тут я ссылаюсь на определенные проблемы из YouTrack и Upsource автоматически выясняет полное название issue, которая у меня здесь имеется.

![](https://habrastorage.org/webt/5u/mo/oj/5umoojhzfcss5c1aeddbd-bs4dq.png)

Полное наименование проблемы в YouTrack, так что у меня тут представлены превью.

![](https://habrastorage.org/webt/zf/hd/us/zfhdusmbotrlo455qelsh-6hits.png)

Если я открою эту ссылку, то я открою соответствующую проблему в YouTrack.

И в дополнение к упомянутым проблемам, также возможно ассоциировать, создавать проблему YouTrack основываясь на коммите вцелом, основываясь на ревью кода вцелом, скорее.

Поэтому мы можем увидеть как это работает, вот пример. В имени коммита пишем название issue из Youtrack. (Не получилось у меня закрыть issue из коммита)

```
git commit -m "FOO-1 commit for test issue 1 "
```

Этот ревью кода ссылается на определенные проблемы из YouTrack, но мы также создали проблему и здесь вы можете видеть ссылку для всего ревью.

![](https://habrastorage.org/webt/y_/ql/zy/y_qlzyxsxgkpdwxfmvkjfhkl_4y.png)

Нужно сказать кое-что насчет коммит-сообщений. И что происходит касательно выявления проблем, изменений, которые были внесены в VCS.

Перейдем к изменениям в VCS, хорошо, по-сути YouTrack уже имел этот функционал какое-то время. По-сути он берет сообщения о коммитах, которые связаны с конкретной проблемой и затем он может совершать над ними действия.

Поэтому, он не просто показывает сообщение, которое кто-то написал в коммите, но также, когда вы пишете сообщение коммита вы можете к примеру использовать знак фунта и тирэ для Fixed Critical.

И это по-сути закрывает проблему с идентификатором N-2.

Это проблема в которой мы на данный момент находимся и также тут говорится о том, что

приоритет критический и также имеется состояние Исправлено.

Это очень полезно и вопрос в том, как это сюда попало?

И вообще-то имеется несколько путей как сообщение о коммите VCS может оказаться в YouTrack.

Потому что имеется несколько направлений интеграции и в некоторых случаях

они могут работать одновременно. Давайте посмотрим на некоторые из них.

Прежде всего давайте посмотрим на интеграцию TeamCity.

Интеграция TeamCity довольно прямолинейна, в первую очередь вы указываете

где находится сервер TeamCity.

Но когда вы указали это, то что вы делаете - указываете какой проект

соответствует какому проекту в TeamCity.

Вот собственно и все.

Тут имеются дополнительные опции, которые вы можете указать.

Но конечная цель в том, чтобы заставить их говорить друг с другом.

Это один из потенциальных источников тех сообщений о коммитах.

По-сути, когда TeamCity сконфигурирован и работает как надо он может получить информацию об

изменениях от source control, создает билд.

И затем он уведомляет YouTack и говорит ему о том, что он сделал этот билд

и передает информацию из коммита.

К примеру, сообщение о коммите как вы можете видеть здесь направляется в YouTrack.

Единственное неудобство здесь в том, что YouTrack должен знать имя пользователя,

которое вы используете для создания коммитов.

И факт в том, что если мы перескочим назад к Hub, на секунду,

давайте вернемся к Hub и если мы посмотрим на настройки пользователя, сделанные мной,

то вы увидите, что под UVS User Names у меня имеется множество всяких вещей.

И это сделано в целях уведомления YouTrack о том, что изменения в Source control были сделаны

пользователем с этими именами. Боюсь, что у меня их много.

Так что, по-сути TeamCity - это один из возможных источников эти сообщений о коммитах.

Но определенно не единственный.

Другой из таких источников - Upsource.

Давайте представим, что у вас есть проект, в котором у вас нет подключенного TeamCity,

Но у вас есть подключенный Upsource и в данном случае

у нас есть отдельная настройка, где у нас в место этого есть интеграция Upsource.

Как можете видеть, обе конфигурации (я преднамеренно отключил

одну из них, чтобы включить TeamCity явным образом, но обе конфигурации

были сделаны ProjectWizard'ом, они были сделаны автоматически

нам не нужно было делать их самим.

И снова, ключевой результат заключается в том, что когда имеется сообщение о коммите,

то это сообщение в конечном итоге окажется в разделе изменений VCS.

Частота с которой эти сообщения о коммитах подбираются может быть указана

с использованием нотацию ???, вот здесь,

так что вы можете выбрать "каждые 10 минут" или "каждый час".

В моем случае я указал каждую минуту.

Потому что я не люблю ждать.

Это был другой способ, однако это не единственный способ,

существует больше путей интеграции Source control.

Можно направиться напрямую к интеграции VCS, тут имеется другой пример того,

что вы можете делать. По-сути в этой настройке мы переходим в Source control напрямую из YouTrack.

Мы не используем UpSource, мы не используем TeamCity в качестве прокси между нами

и контролем версий, вместо этого мы переходим сразу к VersionControl.

Это 3-я опция, которую вы можете адаптировать, чтобы получить такую рабочую интеграцию.

Хорошо, если мы... давайте я перейду назад к списку проблем.

Что тут по-сути происходит, по мере того как вы делаете коммит,

получать сообщения здесь очень просто.

По-сути после того как вы оставляете комментарий вы помещаете знак фунта,

идентификатор проблемы и затем, что бы ни было написано после этого

будет интерпретировано YouTrack'ом тем же образом, что и команды.

Потому что YouTrack имеет чувдесное командное окно, где вы можете

набирать вещи и они будут обработаны.

По-сути, та же запись интерпретируется, но эта запись взята из коммита и

вы также увидите, что тут имеется ссылка, на которую вы можете нажать.

И ссылка приведет вас, в зависимости от того, откуда это сообщение идет, она

приведет вас либо к TeamCity и альтернативно она может привести вас к Upsource.

Это зависит от того, от кого получено сообщение.

И я уверен, что у вас возник вопрос: что если у меня подключены и TeamCity и Upsource.

Создадут ли они одно и то же сообщение дважды, ответ конечно же: Нет.

Тут нет проблем.

Что еще у нас есть касательно интеграции вцелом?

Позвольте мне перейти снова к проблемам.

Может быть я смогу устроить небольшую демонстрацию того, как это могло бы работать на практике.

Давайте представим, что у меня новая проблема, я напишу что-то вроде:

"Вам нужно исправить эту проблему".

Как то так.

По-сути что случиться, позвольте мне просто открыть ???

Я сейчас нахожусь в директории с файлами конкретно данного проекта и что я могу

вцелом тут делать: я могу используя блокнот просто  здесь что-то поменять,

вот так, я закончил и я могу могу перейти в Git Commit и тут начинается критическая часть,

я могу могу написать что-то... Дайте я закрою это.

Я могу написать что-то, в конечном итоге я упомянул вещь под названием N-3.

Я могу сказать: я с этим закончил, затем я могу сказать N-3,

исправлено, я могу сказать "Основной" к примеру.

И затем, если размер экрана мне позволит, я передам это в GitHub в данном случае.

Как только это произошло, в зависимости от того, что вы сконфигурировали, или Upsource или TeamCity

будут обрабатывать эти изменения и для этого проекта я специально отключил интеграцию Upsource,

потому что я помню, что Upsource выигрывал у TeamCity в плане скорости,

с которой он обновлял данную проблему.

Потому что по-сути кто-бы первым не доставил сообщение об изменениях тот победит.

Я вижу есть вопрос про подключение Hub’а к ActiveDirectory.

Я собираюсь обратиться на секунду к одному из модулей, который называется Active Directory.

Я думаю мои коллеги могу назвать это ??? но я думаю мы вообще-то сами использовали его.

Если я правильно помню.

Как вы можете видеть обновление в VCS Changes не является мгновенным,

хотя я сконфигурировал. Одну минутку, как видите оно билдится.

И затем по факту мы получаем билд.

Мы обновили его и надеемся, что рано или поздно это отобразиться в VCS Changes.

Опять же, вы должны подождать минутку с того момента, когда что-то зарегистрировано.

Так что боюсь, это не мгновенный процесс.

Хорошо. Я видел вопрос про... О, уже имеется анонс касательно интеграции TeamCity.

Поэтому да, TeamCity в данный момент не настолько интегрированный игрок во всей этой структуре,

каким он мог бы быть, в том плане, что он имеет своих собственных пользователей.

Но затем, для видеоблога мы вообще-то ??? эту отдельную ???

Но с остальным дело обстоит еще не так просто.

Вот оно. По-сути, в какой-то момент времени данное изменение в VCS подбирается

мы получаем сообщение и мы также получаем ссылку к проблеме,

??? некоторые изменения.

Так что вы можете видеть, что состояние теперь отмечено как Fixed (Исправлено).

И приоритет теперь - Major (Главный).

Я думаю я быстренько пробегусь по ключевым моментам интеграции.

Позвольте мне еще раз перейти к VCS-интеграции и сказать что мы тут вообще-то имеем.

Это важно.

По-сути, в плане VCS, если вы хотите переговариваться с VCS напрямую,

то на данный момент мы поддерживаем эти 3 системы: Bitbucket, Gitlab и Github.

Для тех, кто не знает, что такое Gitlab: вы можете думать о нем, как о Github,

который позволяет иметь приватный проект.

И это очень хорошо.

И для тех, кто не знает, что такое Bitbucket (я не могу вас сильно в этом винить):

когда-то это был конкурент Github'а использующий Mercurial, но

Думаю я могу публично сказать, что Github выиграл гонку.

И это одно из следствий того, что Git победил Mercurial.

И теперь сам Bitbucket использует Git.

Я думаю, это то, что я использую сейчас.

Может нет, я не уверен.

Но он его поддерживает.

Относительно того ??? группы на ???,

Я надеюсь, что некоторые из моих коллег могут тут мне помочь,

потому что я честно говоря не знаю и я думаю, что в итоге мы пробежались по большей части

из того, что тут есть, в плане того как эти инструменты интегрированы.

И мы продолжаем рассказ о том, как заставить инструменты работать друг с другом.

И о том как сюда привлечь TeamCity.

И тут есть одна вещь, которая стоит того, чтобы упомянуть ее.

Это касается параметров Source control.

В том смысле, что когда конфигурируете... Вообще-то давайте попробуем...

Я еще раз открываю проект и перейду, скажем к проекту Navigator.

Ой, подождите. Рессурсы.

Перейдем к ProjectWizard.

Так проще. По мере того, как вы их конфигурируете

в конце вы должны будете указать url репоизтория в Upsourse и

затем на стороне TeamCity вы снова должны будете указать его.

Конечно, TeamCity позаботится о построении нескольких ветвей одновременно.

И при отслеживании проблем вы можете хотеть абcолютно другого.

Тут есть 2 вопроса: вы упомянули, что Github, Gitlab и Bitbucket явным образом поддерживаются.

Возможно ли интегрировать их с другими хостами или напрямую с репозиториями.

Ну, тут есть хороший вопрос, я вообще-то не уверен, я позову моего коллегу для ответа на этот вопрос.

Я уверен, что на данный момент ограничены этими 3-мя, как наиболее популярными, но

я определенно думаю о поддержке некоторых других, проблема здесь в том, что...

Да, Валери, продолжай.

Да, нет проблем. Что касается сайта YouTrack, мы на данный момент поддерживаем прямую

интеграцию только лишь с этими 3-мя, по большей части потому, что

они уже состоявшиеся.

Так что это Github, Gitlab и Bitbucket, для других мы не можем предоставить прямую интеграцию

из YouTrack, но вы можете интегрировать его с любой VCS либо через TeamCity

или через Upsource, у них уже реализована модель интеграции и

имеется поддержка большинства систем контроля версий.

Так что это не должно быть проблемой.

И интеграция через TeamCity и Upsource работает точно также как и

родная интеграция YouTrack.

Таким образом TeamCity эффективно действует в качестве прокси.

Он отправляет коммит-сообщения на YouTrack для обработки.

Последний вопрос был про локализацию.

Я могу быстро ее настроить, т.к. у меня тут все открыто.

Ответ в том, что мы предоставляем 5 языков "прямо из коробки",

которые показаны здесь, так что ответ: да, мы поддерживаем русскоязычную локализацию.

Также возможно указать нужный языковой файл, к примеру, если вы довольны английским, но

по какой-то причине вместо того, чтобы создать проблему вы хотите новую проблему или

что-то вроде того, для этого мы предоставляем информацию насчет того, как это сделать.

Я думаю нам нужна эта ссылка.

Вы бы могли предоставить свой ???, но мы написали в документации как это делать.

Если по какой-то причине вы хотите это сделать.

Вопрос полностью ли Hub интегрирован с TeamCity?

Очевидно, ответ: нет, если вы хотели, чтобы он был частью ProjectWizard.

Но мы все работаем над этим, на данной момент имеется поддержка логинов, но

мы понимаем, что лучше иметь все в одном месте.

Валери, может быть ты могла бы что-то сказать по поводу вопроса о PCI или SOX,

потому что, честно говоря я не знаю что это такое.

Нет, извините, я не могу, я тоже не знаю.

Было бы хорошо, если вы могли бы уточнить насчет этого.

Но, Валери, как я понимаю мы ведем логи аудита касающиеся пользовательских изменений.

Сейчас я это откопаю.

Позвольте мне открыть... я уверен, что PCI и SOX - это какие-то стандарты,

о которых мы попросту не знаем, но позвольте мне посмотреть.

Настройки.

Группы, роли.

Позвольте мне открыть...

Роли, Группы, Доступ.

Вы помните, вы видели аудиты, но...

У нас есть лог событий.

И все изменения должны быть отображены там.

Да, Аудит Событий. Вот.

Да.

Хорошо, мы предоставляем что-то что может экспортироваться в xml.

И по-сути тут отображается все, что вы сделали.

Я думаю, что это...

Хорошо, PCI - это стандарт финансовой безопасности.

Хорошо. Я полагаю нам нужно кое-что поучить дома, в этом плане.

Но я не думаю, что мы предоставляем поддержку для каких-либо конкретных стандартов на данный момент.

Но как вы можете видеть, мы имеем возможность экспортировать все, что было сделано.

Так, что может быть это хороший 1-й шаг, по крайней мере.

Хорошо.

Какие есть варианты использования информации, которая тут собрана.

Я не думаю, что вы имеете ввиду данные полученные от Source control или от аудита или от...

Если мы говорим про данные, которые были получены от коммит-сообщений, то

в отличие от изменений самой проблемы, это по-сути другой индикатор того,

что происходило внутри проекта.

Поэтому тут предоставляется двунаправленный вид, потому что, вспомните,

что ссылки идут в обе стороны.

Если мы посмотрим на YouTrack на мгновенье,

я просто,

Что-то вроде этого. Так что ваши изменения отображены здесь

и также тут есть ссылка, которая перенаправляет меня на источник.

И затем, вы можете провести расследование, насчет того,

какие тесты были пройдены и какие провалены.

Хорошо. Я думаю мы... У нас тут все, Валери, нужно ли еще что-то сказать в плане того, что

мы интегрировали.

А, демо процесса ревью кода.

Да, почему бы и нет?

Давайте сделаем ревью кода для одного из проектов, который у нас есть.

Который уже у нас есть.

???

Давайте запустим.

Это хорошая цель.

Хорошо.

Позвольте мне открыть один из существующих проектов.

И показать вам из чего состоит ревью кода.

В общих чертах.

По-сути вы указываете, что вы делаете ревью кода и кто является ревьюверами.

И кто является смотрителями. Ревьюверы - это очевидно люди, которые должны все утвердить,

а смотрители - это люди, которые могут обозревать.

У вас тут есть комментарии (общие комментарии), которые касаются ревьюверов вцелом.

И также есть комментарии, которые касаются конкретного файла,

конкретной строки кода.

По-сути у вас есть листинг файлов слева, что вообще-то является частью этого ревью.

Затем вы можете щелкнуть на любом из них и у вас есть превью,

так что вы смотрите на ???, на то какие изменения были сделаны в этом конкретном коммите.

И если вы хотите оставить комментарий, то просто щелкаете на эту конкретную линию

и я думаю, вы также можете просто выбрать любой отрывок текста и вы можете сказать, что то

вроде: Это сомнительно. К примеру.

По-сути все эти вещи собраны вместе и вы можете решать, что делать с этим в том плане,

что вы можете обсудить это, кто-то может ответить на этот комментарий.

И они могут сказать: нет, это не сомнительно. Вы можете из этого создать Проблему, к примеру.

Если это настолько проблемно, то вы можете кликнуть и появиться опции

создания конкретной проблемы, поэтому я могу нажать "Ok".

И теперь у меня есть новая проблема, я могу открыть ее и мы можем продолжить обсуждение

того, что случилось здесь.

И затем в какой-то момент, вы конечно можете сделать пометку Решено.

Это улучшает опыт ревью кода.

И в конце, когда все решиться, то все, кто вовлечен в ревью могут либо принять или отклонить

то, что ревьювер делал. Я могу к примеру могу сказать: ни за что, я собираюсь отклонить

такого рода изменения или я могу согласиться с ними. Затем, когда каждый из ревьюверов завершил ревью,

вы можете закрыть ревью и просто можете считать его завершенным.

Я закрою ревью.

В этом заключается процесс ревью кода.

Насчет плана интеграции Hub и TeamCity: я надеюсь, что кто-то из соответствующей команды может

может сделать комментарий насчет этого. Ребята, можете сказать что вы планируете?

Я думаю я отвечала на этот вопрос, так что я могу прокомментировать, но не конкретно насчет

TeamCity, но больше про будущее Hub'а и всего ??? вместе.

Так что, да. Конечно, более плотная интеграция планируется и вся идея заключается в том, чтобы

построить какого-то рода платформу, чтобы соединить все наши инструменты включая ID

и эта платформа также предоставляла бы дополнительные функции.

Возможно не только касательно подключения наших инструментов, но и для других инструментов.

И для наших ID, конечно же и некоторые общие классные функции, о которых я пока

не могу сказать. Да.

Хорошо, мы определенно осведомлены, что более плотная интеграция ???

Позвольте мне посмотреть некоторые другие комментарии, которые я тут оставил.

Хорошо.

Виден ли обзор теста кода в ревью? Я не думаю, что мы имеем сейчас данный функционал.

И это опять же идет к вопросу об интеграции TeamCity.

Потому что я думаю, что это было бы очень, если бы TeamCity мог запускать все тесты,

делать обзор и все остальное и экспортировать это.

Если вы только не имеете ввиду передачу в Upsource, результаты какого-то другого внешнего

инструмента обзора кода и тому подобные вещи.

В этом случае... Мы сначала должны реализовать базовые вещи.

Возможно ли инициировать статический анализ кода, когда ревью началось

и показывать результаты в Upsource.

Опять же, тот же ответ, это будет частью интеграции TeamCity вцелом,

как много информации мы можем взять из TeamCity и передать ее какому-то другому инструменту.

Это было бы замечательно

Другой вопрос: какой компонент взял бы ответственность за логику

за что-то вроде ??? высокого уровня?

Я не уверен... А, я думаю, я знаю, что вы имеете ввиду.

По-сути, в настоящий момент, в YouTrack мы имеем имеем рабочие процессы лишь в качестве концепции.

У нас их нет больше нигде.

И в YouTrack идея заключается в том, что по-сути рабочий процесс - это какого-то рода

написанный скрипт,

который исполняется в какое то время.

И полагаю, что вопрос относится к тому, имеем ли мы идей насчет того, как этого добиться на

глобальном уровне.

Что по-сути происходит на стороне YouTrack - у нас есть этот удобный DSL.

По-сути это язык специфичный для домена, который мы используем для эффективного

управления разного рода поведением базы данных YouTrack,

что достигается использованием такого рода ???

Поэтому, на данный момент мы очевидно не имеем какие-либо высокоуровневые конструкции для работы на

уровне Hub'а. Я представляю, что если в какой-то момент мы увидим потребность в

скриптах. Но честно говоря, в терминах создания билдов мы понимаем, что...

Я имею ввиду, что если вы хотите автоматизировать часть билда,

то вы используете эту систему для билдов.

Маловероятно, что мы стали бы ??? свою собственную систему рабочего процесса.

для описания ???, потому что это не имеет смысла,

я имею ввиду, что все состоявшиеся на рынке инструменты ???, но

имеют высокий уровень.

К примеру, предположим, что кто-то ??? инициировал ревью кода. Это определенно имеет смысл.

И в какой-то момент это может быть реализовано.

Но опять же, мы двигаемся в этом направлении.

Хорошо, давайте посмотрим.

Можно ли использовать рабочий процесс, чтобы позволять человеку быть и коммитером и PR

или по-крайней мере позволить...

Коммитер и пуллер...

Под PR я полагаю вы имеете ввиду pull-запрос.

Коммитеру и человеку делающющему pull-запрос...

Не позволяется одному человеку быть коммитером и человеком делающим pull-запрос.

Я думаю.

Я знаю, что вцелом, что происходит: в том рабочем процессе, который мы имеем,

они по-сути влияют на ключевые аспекты проблемы, я не уверен если рабочим процессам хотя бы

позволяется вмешиваться в комментарии о коммитах, потому что комментарии о коммитах по-сути

являются чем-то вроде внешних конструкций, они является чем-то что добывается...

Или вы можете думать о них о чем-то что может быть получено из Source control или

от того, кто-бы ни передал информацию через proxy относительно Source control

в нашу проблему. Поэтому, я не знаю, можно ли выяснить...

Одна из проблем заключается в том, как конкретно вы бы их сравнили.

Я имею ввиду, стали бы вы сравнивать их имена, т.е. если это сравнение строк,

к примеру совпадает ли это имя с этим, тогда конечно, может быть это могло бы сработать.

Но я не уверен несколько это практично.

Я думаю, за это отвечает система Source control, может быть.

Или определенно какой-либо политики Source control'а.

Скажем, на уровне Git или на уровне Mercurial

вы указываете PR, инициатора.

И коммитера, это может не быть один и тот же человек.

Или вы могли бы как-то ???

Но грустно, что это не запрещается по-умолчанию, но в то же время

я могу предвидеть ситуации, когда вы сидите и ???, работая, но

вместо слияния, как вы обычно это сделали бы или...

Я представляю в этом случае возможное вредоносное намерение,

вы создали проект и затем кто-то хочет избежать ревью кода, хочет проникнуть в код проекта,

без ???

Но я думаю, что использование рабочих процессов в YouTrack может быть неправильным подходом.

Потому что в конце концов, даже если YouTrack будет жаловаться по поводу такой неудачной ситуации,

то это уже произойдет.

Вы уже не смогли это предотвратить, поэтому по поводу этого может быть вы должны поговорить с

gihtub или кто-бы ни поддерживал такую вещь, чтобы явным образом предотвратить

такого рода вещь. Верно.

Хорошо. Если вы сделали коммит, к примеру что-то исправили, то

версия ??? будет обновлена, исправленные версии ??? аффектированные версии.

Факт в том, что если  мы перейдем в настройки, позвольте мне

настройкам для интеграции TeamCity и если мы пойдем в Navigator, то

вы увидите, что под под списком действий для ветви по умолчанию вы можете эффективным

образом указать, какое поле имеет доступ к полю билда, так что вы можете

задать это поле сами.

Надеюсь, это отвечает на вопрос.

Хорошо. Вопрос: как начинать, обновлять и осуществлять слияние ревью кода,

??? ревью ветви

И насчет автоматического обновления ??? изменения в ветви.

Можно ли делать ревью для конкретной ветви коммита.

Может ли закрытие ревью автоматически активировать  слияние?

Я знаю, что ревью кода начинается со следующего.

Это откровенно ручной процесс.

По-сути, если мы посмотрим на

на коммит, давайте возьмем этот коммит к примеру.

По-сути вы имеете 2 опции. У меня тут есть коммит.

И я могу либо создать ревью, либо прикрепить его к существующему ревью или

ревью которое уже произошло.

Я не знаю, для чего нужно взаимодействие, ???

они не подвергались слиянию, я не уверен если мы еще  добрались до того рода...

Я имею ввиду, что происходит то, что Upsource уже может общаться с контролем версий.

По-сути, коммит уже произошел.

Он уже произошел и вы просто должны иметь дело с фактом, что он уже произошел,

если нужно про это поговорить.

По-сути так. Вы создадите вам ревью, у вас будут ревьюверы, кто бы они ни были

и вы слияние будет происходить данным образом.

Другой вопрос: есть ли способ создать субпроекты или суперпроекты в YouTrack?

Если нет, то есть ли какие-либо еще планы для расширения такого функционала?

Короткий ответ: нет.

У нас нет такой задумки.

И я знаю, что поскольку у нас есть TeamCity, то некоторые люди могут

завидовать тому факту, что этого рода функцинал по-сути недоступен,

поэтому, что я могу... я думаю Валери может поправить меня здесь,

но я не думаю, что у нас есть какие-либо планы насчет того, чтобы реализовать такого рода вещи,

как супер- и субпроекты.

Однако, нужно сказать, что у нас есть очень гибкий путь линковки (связывания)

между разными проектами.

И другими проектами, в том смысле, что если вы посмотрите на набор ссылок,

предоставляемых YouTrack'ом, то увидите, что

тут имеется множество вещей.

И определенно имеется поддержка определенной иерархии.

Потому что, к примеру, subtask of (подзадача) и parent for (родитель для) по сути

позволяют вам иметь отношения родитель-потомок.

В этом плане.

К примеру, если вы составляете рабочий процесс, то это что-то, что вы можете интегрировать.

Единственное, что мы можем дать в плане этой идеи - это подсистемы.

Но это просто поля по-умолчанию, вы можете назначить любые подсистемы какие

у вас есть в вашем проекте.

Также у вас есть ссылки между ними.

Так что, мы к сожалению ничего не сделали для...

Я полагаю это не зависит от того как вы это используете.

Зачем вам может понадобиться такого рода настройка, в любом случае?

Потому что, если вы посмотрите на TeamCity, то это главным образом организационная вещь.

В том плане, что это путь организации высоко- и низкоуровневых сущностей.

Но они на самом деле не имеют связей, это не так как в  какой-нибудь иерархии наследования

Но да, имеется...

К сожалению ответ на этот последний вопрос "есть ли способ создать разные наборы полей

для разных подсистем" к сожалению - нет.

Потому за что набор полей который у вас зависит от проекта.

Я не думаю, что может быть какой-то вред от создания множества проектов, честно говоря.

С разными системами. Единственная проблема, конечно, заключается в том, что если вы хотите

иметь некоторые из проблем в общем виде, то тут на самом деле нет проблем.

Но да, следующий вопрос: есть ли способ создать разные наборы полей для...

Вообще-то, подождите, я хожу кругами.

Так что идея примерно такая: если вы действительно хотите, чтобы ваши подсистемы имели

разные поля, то они должны быть представлены в данных проектах.

Однако, набор полей, к примеру набор состояний, который у вас может быть,

это вещь, которую можно использовать повторно.

Поэтому, что-то вы могли бы использовать в любом проекте.

И затем, вы можете повторять это снова и снова.

Таким образом у вас тут будет какая-то общность.

Хорошо, последний вопрос: Если изменения не прошли статический анализ кода

или любые другие правила и проверки, то будут ли они автоматически отклонены, так, что вы

не сможете протолкнуть их дальше?

Вопрос заключается в том, в каком месте они будут отклонены?

Вам нужно понять, что есть разница между Git'ом и TFS.

Если мы предпочтем TeamFoundations другим инструментам, то да,

инструменты наподобе TeamFoundations, то в них реализована эта идея.

К примеру, у них есть такой принцип:

если кто-то пытается сделать коммит, то мы оценим цикломатическую сложность кода и если

код слишком сложный, то вам не будет позволено сделать коммит этого кода.

Вот, что делает TFS, буквально.

Прежде всего, мы не используем TFS, мы работаем предполагая, что коммит уже сделан.

Поэтому, мы не говорим, что мы собираемся отклонить коммит.

И определенно на стороне Upsource мы скажем: мы не будем делать ревью кода, потому что

что-то не пошло неправильно на предыдущем шаге.

Так что, знаете, это не ???

Определенно ??? Microsoft ??? такие вещи, но

мы работаем предполагая, что коммит уже произошел.

??? ясно.

Хорошо, прошел почти час и я думаю, что пришло время заканчивать.

Если есть какие-то неотвеченные вопросы, то мы ответим на них потом.

И спасибо большое за то, что посмотрели этот скринкаст.

Валери продолжит, спасибо.

Спасибо за то, что присоединились к нам, я думаю ??? на все ваши вопросы.

Мы определенно скоро ответим на все вопросы.

И мы отправим вам ссылку на запись этого вебинара.

Также, мы поделимся некоторыми полезными рессурсами с вами, если вы хотите

больше узнать про наши командные инструменты и интеграцию,

вы можете все это найти на нашем веб-сайте jetbrains.com

Чтобы узнать больше про Hub, вам нужно направиться к jetbtains/hub.

Также ваши отзывы про вебинар приветствуются на Twitter.

Вы можете посылать их к Дмитрию Несетрюку или Роберту Деммеру.

Запись доступна на нашем YouTube канале.

Я думаю через пару дней она будет уже там.

И также мы просим вас подписаться на @jetbrains_hub на Twitter'e,

чтобы узнать больше ??? новостей и новостей касательно интеграции.

Все это будет там.

Поэтому, просто подписывайтесь.

И еще раз спасибо.

Спасибо всем за то, что присоединились, это было здорово.